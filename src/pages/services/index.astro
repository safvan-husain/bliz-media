---
import Layout from "../../layouts/Layout.astro";
import Services from "../../components/Services.astro";
import ServicesHero from "../../components/ServicesHero.tsx";
import FeaturedProjects from "../../components/FeaturedProjects.astro";
---

<Layout title="Our Services | Bliz Media">
    <ServicesHero client:load />
    <div class="pt-20">
        <Services showViewAll={false} />
    </div>

    <div
        class="opacity-0 translate-y-8 transition-all duration-700 ease-out [&.animate-in]:opacity-100 [&.animate-in]:translate-y-0"
        data-animate-on-scroll
    >
        <FeaturedProjects />
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry, index) => {
                        if (entry.isIntersecting) {
                            setTimeout(() => {
                                entry.target.classList.add("animate-in");
                            }, index * 100);
                        }
                    });
                },
                { threshold: 0.1 },
            );

            document
                .querySelectorAll("[data-animate-on-scroll]")
                .forEach((el) => observer.observe(el));
        });
    </script>
</Layout>
