---
import type { Service } from "../data/services";

interface Props {
  services: Service[];
}

const { services } = Astro.props;
---

<div class="pb-12 px-6">
  <div class="max-w-[var(--max-width-container)] mx-auto flex flex-col gap-6">
    {
      services.map((service) => (
        <a
          href={`/services/${service.slug}`}
          class="group relative h-[420px] rounded-[3rem] overflow-hidden shadow-2xl transition-all duration-700 hover:scale-[1.01] block isolate"
        >
          <div class="absolute inset-0 bg-zinc-900">
            <img
              src={service.image}
              alt={service.title}
              class="w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110"
              loading="lazy"
            />
          </div>

          <div
            class={`absolute inset-0 ${service.color || "bg-secondary"} opacity-80 mix-blend-multiply transition-all duration-700 group-hover:opacity-90`}
          />

          <div class="absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-black/60 opacity-60" />

          <div class="absolute inset-0 flex flex-col items-center justify-center p-8 text-center text-white z-10">
            <h3 class="text-4xl font-black tracking-tighter mb-4 transition-all duration-700 group-hover:scale-105 group-hover:-translate-y-2">
              {service.title}
            </h3>
            <p class="max-w-xl text-lg font-medium text-white/90 mb-8 leading-tight transition-all duration-700 delay-75 group-hover:-translate-y-2">
              {service.excerpt}
            </p>

            <div class="flex flex-wrap justify-center gap-3 mb-10 transition-all duration-700 delay-100 group-hover:-translate-y-2">
              {service.tags?.map((tag) => (
                <span class="px-6 py-2 rounded-full border border-white/30 bg-white/10 backdrop-blur-md text-xs font-black uppercase tracking-[0.2em] transition-all duration-500 hover:bg-white hover:text-black">
                  {tag}
                </span>
              ))}
            </div>

            <div class="bg-secondary text-white px-10 py-5 rounded-full font-black tracking-[0.2em] text-xs flex items-center gap-4 border border-white/10 transition-all duration-500 hover:bg-primary hover:scale-110 active:scale-95 group-hover:-translate-y-2">
              VIEW MORE
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="3"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="transition-transform duration-500 group-hover:translate-x-1"
              >
                <line x1="5" y1="12" x2="19" y2="12" />
                <polyline points="12 5 19 12 12 19" />
              </svg>
            </div>
          </div>

          <div class="absolute inset-0 border-[1px] border-white/0 group-hover:border-white/20 transition-all duration-1000 rounded-[3rem] pointer-events-none scale-95 group-hover:scale-100" />
        </a>
      ))
    }

    <a
      href="/services"
      class="group relative h-[420px] rounded-[3rem] overflow-hidden shadow-2xl transition-all duration-700 hover:scale-[1.01] block isolate bg-secondary border border-white/10"
    >
      <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-50" />
      <div class="absolute -bottom-24 -right-24 w-64 h-64 bg-primary/20 rounded-full blur-3xl group-hover:bg-primary/30 transition-all duration-700" />

      <div class="absolute inset-0 flex flex-col items-center justify-center p-8 text-center text-white z-10">
        <h3 class="text-4xl font-black tracking-tighter mb-8 transition-all duration-700 group-hover:scale-105">
          Ready to see<br /> everything?
        </h3>

        <div class="bg-white text-secondary px-12 py-6 rounded-full font-black tracking-[0.2em] text-sm flex items-center gap-4 border border-transparent transition-all duration-500 hover:bg-primary hover:text-white hover:scale-110 active:scale-95 group-hover:-translate-y-2">
          VIEW ALL SERVICES
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="3"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="transition-transform duration-500 group-hover:translate-x-1"
          >
            <line x1="5" y1="12" x2="19" y2="12" />
            <polyline points="12 5 19 12 12 19" />
          </svg>
        </div>
      </div>

      <div class="absolute inset-0 border-[1px] border-white/10 group-hover:border-white/30 transition-all duration-1000 rounded-[3rem] pointer-events-none scale-95 group-hover:scale-100" />
    </a>
  </div>
</div>
