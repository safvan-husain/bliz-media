---
import BrandPhysics from "./BrandPhysics";
import InfiniteTestimonials from "./InfiniteTestimonials.astro";
import CurveRevealText from "./CurveRevealText.astro";
import { brands } from "../data/brands";

export interface Author {
    name: string;
    avatar: string;
}

export interface Testimonial {
    author: Author;
    text: string;
    href?: string;
}

interface Props {
    testimonials?: Testimonial[];
}

const { testimonials = [] } = Astro.props as Props;
---

<section id="brands" class="overflow-hidden bg-gray-50 py-24">
    <div
        class="mx-auto max-w-[var(--max-width-container)] px-4 mb-12 flex flex-col items-center text-center gap-4"
    >
        <CurveRevealText
            as="h2"
            text="What Our Clients Say"
            className="text-3xl font-semibold leading-tight sm:text-5xl sm:leading-tight text-black"
        />
        <CurveRevealText
            as="p"
            text="Real feedback from clients who’ve partnered with us to build impactful digital solutions."
            className="text-md max-w-[600px] font-medium text-[var(--color-muted-foreground)] sm:text-xl"
            delayStepMs={24}
            baseDelayMs={100}
        />
    </div>

    <div class="w-full mb-24">
        <InfiniteTestimonials testimonials={testimonials} />
    </div>

    <div
        class="mx-auto flex max-w-[var(--max-width-container)] px-4 flex-col gap-24"
    >
        <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2">
            <div>
                <CurveRevealText
                    as="h2"
                    segments={[
                        {
                            text: "Trusted by Growing ",
                            className: "text-black mb-1",
                        },
                        {
                            text: "Brands & Businesses",
                            className: "text-primary",
                        },
                    ]}
                    className="flex flex-col text-4xl font-bold tracking-tight mb-6 md:text-5xl"
                />
                <CurveRevealText
                    as="p"
                    text="We’ve partnered with startups, agencies, and businesses across industries to design, build, and scale impactful digital experiences."
                    className="text-xl text-muted-foreground leading-relaxed mb-8 max-w-xl"
                    delayStepMs={24}
                    baseDelayMs={120}
                />
                <div class="flex flex-wrap gap-4">
                    <div
                        class="flex items-center gap-2 px-4 py-2 bg-muted rounded-full text-sm font-medium"
                    >
                        <div
                            class="w-2 h-2 bg-green-500 rounded-full animate-pulse"
                        >
                        </div>
                        Active Partnerships
                    </div>
                </div>
            </div>

            <div class="h-[500px] w-full">
                <BrandPhysics client:load brands={brands} />
            </div>
        </div>
    </div>
</section>
